!function(t){"use strict";function e(){var e=(t(window).width()-t(".container").width())/2;return e}function a(){t(".stm-nav__menu_type_header > li > .sub-menu, .stm-nav__menu_type_header > li > .sub-menu .sub-menu").length&&t(".stm-nav__menu_type_header > li > .sub-menu, .stm-nav__menu_type_header > li > .sub-menu .sub-menu").each(function(){var e=t(this),a=e.outerWidth()+e.offset().left;a>t(window).outerWidth()-15&&e.addClass("sub-menu_show_to-left")})}function s(e){var a={},s=t(e),o=s.find("i"),i={};s.data("bg")&&(a["background-color"]=s.data("bg")),s.data("border")&&(a["border-color"]=s.data("border")),s.data("text")&&(a.color=s.data("text")),s.css(a),s.data("icon")&&(i.color=s.data("icon")),o.css(i)}function o(e){var a={},s=t(e),o=s.find("i"),i=s.find(".stm-btn-big__text"),n=s.find(".stm-btn-big__secondary-text"),r={},c={},d={};s.removeAttr("style"),o.removeAttr("style"),s.data("bg")&&(a["background-color"]=s.data("bg")),s.data("border")&&(a["border-color"]=s.data("border")),s.css(a),s.data("text")&&(c.color=s.data("text")),i.css(c),s.data("s-text")&&(d.color=s.data("s-text")),n.css(c),s.data("icon")&&(r.color=s.data("icon")),o.css(r)}t.fn.is_on_screen=function(){var e=t(window),a={top:e.scrollTop(),left:e.scrollLeft()};a.right=a.left+e.width(),a.bottom=a.top+e.height();var s=this.offset();return s.right=s.left+this.outerWidth(),s.bottom=s.top+this.outerHeight(),!(a.right<s.left||a.left>s.right||a.bottom<s.top||a.top>s.bottom)},t(document).ready(function(){if(t(".stm-nav__menu .menu-item-has-children").mouseenter(function(){t(".stm-nav__menu li").removeClass("general__position"),t(this).addClass("general__position")}),t(".leftFullHeightBgDarkBlue").length){var a=t(".leftFullHeightBgDarkBlue").closest(".rev_slider");window.matchMedia("(min-width: 767px)").matches?a.bind("revolution.slide.onloaded",function(a){t(".leftFullHeightBgDarkBlue").parent().addClass("leftFullHeightWrapper"),t(this).find(".leftFullHeightBgDarkBlue").each(function(){var a=t(this),s=parseInt(t(this).data("width"))+parseInt(e());a.parent(".leftFullHeightWrapper").css({"min-width":s+"px","max-width":s+"px"})})}):window.matchMedia("(max-width: 768px)").matches&&!window.matchMedia("(max-width: 480px)").matches?a.bind("revolution.slide.onloaded",function(e){t(".leftFullHeightBgDarkBlue").parent().addClass("leftFullHeightWrapper"),t(this).find(".leftFullHeightBgDarkBlue").each(function(){t(this).parent(".leftFullHeightWrapper").css({"min-width":t(window).width()/2+"px","max-width":t(window).width()/2+"px"})})}):a.bind("revolution.slide.onloaded",function(e){t(".leftFullHeightBgDarkBlue").parent().addClass("leftFullHeightWrapper"),t(this).find(".leftFullHeightBgDarkBlue").each(function(){t(this).parent(".leftFullHeightWrapper").css({"min-width":t(window).width(),"max-width":t(window).width()})})})}}),t(document).on("click",".stm-rev-nav_next",function(){return t(this).closest(".rev_slider").revnext(),!1}),t(document).on("click",".stm-rev-nav_prev",function(){return t(this).closest(".rev_slider").revprev(),!1}),t(window).on("resize",function(){t(".leftFullHeightBgDarkBlue").length&&(window.matchMedia("(max-width: 480px)").matches?(t(".leftFullHeightBgDarkBlue").parent().addClass("leftFullHeightWrapper"),t(this).find(".leftFullHeightBgDarkBlue").each(function(){t(this).parent(".leftFullHeightWrapper").css({"min-width":t(window).width(),"max-width":t(window).width()})})):t(".leftFullHeightBgDarkBlue").each(function(){var a=(t(this),parseInt(t(this).data("width"))+parseInt(e()));t(this).parent(".tp-mask-wrap").css({"min-width":a,"max-width":a})}))}),t(document).ready(function(){t(".stm-offset-right").length&&t(".stm-offset-right").css("margin-right","-"+e()+"px"),t(".stm-offset-left").length&&t(".stm-offset-left").css("margin-left","-"+e()+"px"),a(),t("select").length&&t("select").select2({minimumResultsForSearch:"-1"}),t(".widget_categories").length&&t(".widget_categories").each(function(){t(this).find("select").length&&t(this).addClass("widget_categories_type_dropdown")}),window.matchMedia("(max-width: 767px)").matches?t(".vc_row-no-padding .stm-map .stm-contact-details").length&&t(".vc_row-no-padding .stm-map .stm-contact-details").css("left",""):t(".vc_row-no-padding .stm-map .stm-contact-details").length&&t(".vc_row-no-padding .stm-map .stm-contact-details").css({left:e()+"px"}),t(window).resize(function(){window.matchMedia("(max-width: 767px)").matches?t(".vc_row-no-padding .stm-map .stm-contact-details").length&&t(".vc_row-no-padding .stm-map .stm-contact-details").css("left",""):t(".vc_row-no-padding .stm-map .stm-contact-details").length&&t(".vc_row-no-padding .stm-map .stm-contact-details").css({left:e()+"px"})}),t(".stm-fancybox").length&&t(".stm-fancybox").fancybox({maxWidth:"70%",maxHeight:"70%",autoSize:!1,padding:0,closeClick:!1,openEffect:"none",closeEffect:"none",beforeLoad:function(){t(this.element).attr("audio-height")&&(this.height=t(this.element).attr("audio-height"))}}),t(".stm-btn_custom").length&&(t(".stm-btn_custom").each(function(){s(this)}),t(".stm-btn_custom").on("mouseenter",function(){var e={},a=t(this),s=a.find("i"),o={};a.hasClass("stm-btn_disabled")||(a.data("bg-hover")&&(e["background-color"]=a.data("bg-hover")),a.data("border-hover")&&(e["border-color"]=a.data("border-hover")),a.data("text-hover")&&(e.color=a.data("text-hover")),a.css(e),a.data("icon-hover")&&(o.color=a.data("icon-hover")),s.css(o))}),t(".stm-btn_custom").on("mouseleave",function(){s(this)}),t(".stm-btn_custom").on("mousedown",function(){var e={},a=t(this),s=a.find("i"),o={};a.hasClass("stm-btn_disabled")||(a.data("bg-active")&&(e["background-color"]=a.data("bg-active")),a.data("border-active")?e["border-color"]=a.data("border-active"):e["border-color"]=a.data("bg-active"),a.data("text-active")&&(e.color=a.data("text-active")),a.data("icon-active")&&(o.color=a.data("icon-active")),s.css(o),a.css(e))})),t(".stm-btn-big_custom").length&&(t(".stm-btn-big_custom").each(function(){o(this)}),t(".stm-btn-big_custom").on("mouseenter",function(){var e={},a=t(this),s=a.find("i"),o=a.find(".stm-btn-big__text"),i=a.find(".stm-btn-big__secondary-text"),n={},r={},c={};a.data("bg-hover")&&(e["background-color"]=a.data("bg-hover")),a.data("border-hover")&&(e["border-color"]=a.data("border-hover")),a.css(e),a.data("text-hover")&&(r.color=a.data("text-hover")),o.css(r),a.data("s-text-hover")&&(c.color=a.data("s-text-hover")),i.css(c),a.data("icon-hover")&&(n.color=a.data("icon-hover")),s.css(n)}),t(".stm-btn-big_custom").on("mouseleave",function(){o(this)}),t(".stm-btn-big_custom").on("mousedown",function(){var e={},a=t(this),s=a.find("i"),o=a.find(".stm-btn-big__text"),i=a.find(".stm-btn-big__secondary-text"),n={},r={},c={};a.data("bg-active")&&(e["background-color"]=a.data("bg-active")),a.data("border-active")&&(e["border-color"]=a.data("border-active")),a.css(e),a.data("text-active")&&(r.color=a.data("text-active")),o.css(r),a.data("s-text-active")&&(c.color=a.data("s-text-active")),i.css(c),a.data("icon-active")&&(n.color=a.data("icon-active")),s.css(n)}))}),t(window).resize(function(){a(),t(".vc_row-no-padding .stm-map .stm-contact-details").length&&t(".vc_row-no-padding .stm-map .stm-contact-details").css({left:e()+"px"})}),t(".form_donation").on("submit",function(){var e=t(this);return t(e).removeClass("error"),t(e).find(".form__action-loading").addClass("form__action-loading_state_loading"),t(this).ajaxSubmit({url:window.wp_data.ajax_url,dataType:"json",success:function(a){if(t(e).find(".form__action-loading").removeClass("form__action-loading_state_loading"),a.success)top.location.href=a.success;else for(var s in a.errors)t(e).find('input[name="donor['+s+']"]').addClass("error"),t(e).find(".form-error_"+s).html(a.errors[s]).addClass("active")}}),t(e).find(".error").live("change",function(){""!==t(this).val()&&(t(this).removeClass("error"),t(this).closest(".form__item").find(".form-error").removeClass("active"))}),!1}),t(document).on("click",".form_donation .form__amount-label",function(){t(this).addClass("active").siblings().removeClass("active"),t(this).closest("form").find(".form__amount-value-custom").val("")}),t(document).on("change",".form_donation .form__amount-value-custom",function(){t(this).closest("form").find(".form__amount-label").each(function(){t(this).removeClass("active")})}),t(".form_join-event").on("submit",function(){console.log(window.wp_data.ajax_url);var e=t(this),a=parseInt(t(e).find('input[name="event_member[event_id]"]').val()),s=localStorage.getItem("addedEvents"),o=!1;return s&&(s=JSON.parse(s),o=t.inArray(a,s)>-1),o?t(e).find(".form__notice_information").fadeIn(300):(t(e).removeClass("error"),t(e).find(".form__loading").addClass("form__loading_state_active"),t(this).ajaxSubmit({url:window.wp_data.ajax_url,dataType:"json",success:function(o){if(t(e).find(".form__loading").removeClass("form__loading_state_active"),o.success)t(".event-attended-count").text(parseInt(t(".event-attended-count").text())+1),s?s.push(a):s=[a],localStorage.setItem("addedEvents",JSON.stringify(s)),t(e).find(".form__notice_success").fadeIn(300);else for(var i in o.errors)t(e).find('input[name="event_member['+i+']"]').addClass("error"),t(e).find('textarea[name="event_member['+i+']"]').addClass("error")}}),t(e).find(".error").live("change",function(){""!==t(this).val()&&t(this).removeClass("error")})),!1}),t(document).on("click",".notice__hide",function(){t(this).closest(".notice").fadeOut(300)}),t(document).on("click",".quantity-control",function(e){e.preventDefault();var a=t(this).parent().find("input"),s=a.val();t(this).hasClass("quantity-control_plus")?(s=parseInt(s)+1,a.val(s)):s>1&&(s=parseInt(s)-1,a.val(s))}),t(document).on("click",".top-bar__search .stm-search-form__submit",function(){var e=t(this),a=e.closest(".top-bar"),s=e.closest(".stm-search-form").find(".stm-search-form__field");return a.hasClass("top-bar_view-style_1")&&!s.hasClass("stm-search-form__field_active")||a.hasClass("top-bar_view-style_3")&&!s.hasClass("stm-search-form__field_active")||a.hasClass("top-bar_view-style_4")&&!s.hasClass("stm-search-form__field_active")?(s.addClass("stm-search-form__field_active").focus(),!1):s.val()?void 0:(s.focus(),!1)}),t(document).on("keypress",".stm-search-form__field_active, .top-bar_view-style_1 .stm-search-form__field",function(){var e=t(this),a=e.closest(".top-bar__search").find(".stm-search-form__submit");a.addClass("stm-search-form__submit_active")}),t(document).on("keypress",".widget.widget_search .stm-search-form__field",function(){var e=t(this),a=e.closest(".widget.widget_search").find(".stm-search-form__submit");a.addClass("stm-search-form__submit_active")}),t(document).on("keypress",".woocommerce-product-search .search-field",function(){var e=t(this),a=e.closest(".woocommerce-product-search");a.addClass("stm-search-form__submit_active")}),t("body").on("click",function(e){t(e.target).closest(".top-bar__search .stm-search-form").length||(t(".top-bar__search .stm-search-form__field_active").removeClass("stm-search-form__field_active").val(""),t(".top-bar__search .stm-search-form__submit_active").removeClass("stm-search-form__submit_active"),t(".widget.widget_search .stm-search-form__submit").removeClass("stm-search-form__submit_active"),t(".woocommerce-product-search").removeClass("stm-search-form__submit_active"))}),t(document).on("click",".header-mobile__nav-control",function(){var e=t(".stm-nav_type_mobile-header");e.length&&("none"==e.css("display")?(e.slideDown(),t(this).addClass("active")):(e.slideUp(),e.find("ul li ul").slideUp(),e.find("ul li").removeClass("active"),t(this).removeClass("active")))}),t(document).on("click",".stm-nav__menu_type_mobile-header a",function(){return t(this).parent("li").hasClass("menu-item-has-children")&&!t(this).parent("li").hasClass("active")?(t(this).closest("li").siblings().find("ul").slideUp(),t(this).closest("li").siblings().find("li").removeClass("active"),t(this).next("ul").slideDown(),t(this).parent("li").addClass("active").siblings().removeClass("active"),!1):void 0})}(jQuery);